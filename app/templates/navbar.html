<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title|default('Project Matrix') }}</title>
    <style>
  /* ---- NAV WRAPPER ---- */
  .nav-wrapper{
    width:100%;
    border-bottom:1px solid var(--border);
    background:var(--panel);
  }

  .nav-top{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:1rem;
    max-width:1200px;
    margin:0 auto;
  }

  .logo{
    font-size:1.5rem;
    font-weight:bold;
    text-decoration:none;
    color:#05CE78; /* markanÄ±z yeÅŸilse bunu korudum */
    flex:0 0 200px;
  }

  /* ---- SEARCH ---- */
  .search-container{
    flex:0 0 400px;   /* tek tanÄ±m, duplikeyi kaldÄ±rdÄ±k */
    margin:0 auto;
  }
  .search-form{ position:relative; }
  .search-input{
    width:100%;
    padding:8px 12px 8px 36px;
    background:var(--panel-2);
    color:var(--text);
    border:1px solid var(--border);
    border-radius:6px;
    font-size:14px;
  }
  .search-input::placeholder{ color:var(--muted); }
  .search-icon{
    position:absolute; left:10px; top:50%; transform:translateY(-50%);
    width:16px; height:16px; color:var(--muted);
  }

  /* ---- LINKS ---- */
  .nav-right{ display:flex; align-items:center; gap:1rem; flex:0 0 200px; justify-content:flex-end; }
  .nav-right{ white-space:nowrap; }
  .nav-left{ display:flex; align-items:center; gap:1rem; }

  .nav-link{
    text-decoration:none;
    color:var(--text);
    padding:.5rem;
    transition:color .2s, background .2s;
    border-radius:6px;
    white-space:nowrap;
  }
  /* Make button version of nav-link look like a link, not a white button */
  button.nav-link{
    background:transparent;
    border:0;
    color:var(--text);
    padding:.5rem;
    border-radius:6px;
    cursor:pointer;
    appearance:none;
    -webkit-appearance:none;
  }
  .nav-link:hover{ color:var(--brand); background:var(--panel-2); }
  button.nav-link:hover{ color:var(--brand); background:var(--panel-2); }
  .nav-link.active{ color:var(--brand); font-weight:600; }

  /* ---- BOTTOM STRIP / CATEGORIES ---- */
  .nav-bottom{
    background:var(--panel);
    border-top:1px solid var(--border);
    padding:.5rem;
    text-align:center;
  }
  .categories{
    display:flex;
    justify-content:center;
    gap:2rem;
    max-width:1200px;
    margin:0 auto;
  }

  /* ---- SETTINGS DROPDOWN ---- */
  .settings-dropdown{ position:relative; display:inline-block; }
  .settings-content{
    display:none; position:absolute; right:0;
    min-width:180px; background:var(--panel); color:var(--text);
    border:1px solid var(--border); box-shadow:var(--shadow);
    border-radius:8px; z-index:10; overflow:hidden;
  }
  .settings-dropdown:hover .settings-content{ display:block; }
  .settings-item{
    display:block; padding:.75rem 1rem; text-decoration:none; color:var(--text);
  }
  .settings-item:hover{ background:var(--panel-2); }

  /* ---- CREATE PROJECT BUTTON (marka rengi) ---- */
  .create-project-btn{
    background:var(--brand);
    color:#fff;
    padding:.5rem 1rem;
    border-radius:6px;
    text-decoration:none;
    transition:filter .2s;
  }
  .create-project-btn:hover{ filter:brightness(.95); }
</style>

</head>
<body>
    <div class="nav-wrapper">
        <div class="nav-top">
            <a href="/" class="logo">Project Matrix</a>
            {% include '_searchbar.html' %}
            <div class="nav-right">
                <button id="themeToggle" class="nav-link" aria-label="Toggle theme" title="Toggle theme">ðŸŒ™</button>
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('project.create_project') }}" class="create-project-btn">Create Project</a>
                    <div class="settings-dropdown">
                        <a class="nav-link">Settings</a>
                        <div class="settings-content">
                            <a href="{{ url_for('profile.show_profile') }}" class="settings-item">Profile</a>
                            <a href="{{ url_for('auth.logout') }}" class="settings-item">Logout</a>
                        </div>
                    </div>
                {% else %}
                    <a class="nav-link {% if current_page == 'auth.login' %}active{% endif %}" href="{{ url_for('auth.login') }}">Log In</a>
                    <a class="nav-link {% if current_page == 'auth.register' %}active{% endif %}" href="{{ url_for('auth.register') }}">Sign Up</a>
                {% endif %}
            </div>
        </div>
        <div class="nav-bottom">
            <div class="categories">
                <a class="nav-link {% if current_page == 'category1' %}active{% endif %}" href="./category1">Category 1</a>
                <a class="nav-link {% if current_page == 'category2' %}active{% endif %}" href="./category2">Category 2</a>
            </div>
        </div>
    </div>
</body>
</html>