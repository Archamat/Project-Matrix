{% extends 'base.html' %}

{% block content %}
<div class="profile-container">
    <!-- Left Sidebar -->
    <div class="sidebar">
        <ul class="sidebar-nav">
            <li><a href="#personal-info" class="sidebar-link active">Personal Info</a></li>
            <li><a href="#skills" class="sidebar-link">Skills</a></li>
            <li class="has-submenu">
                <a href="#projects" class="sidebar-link">Projects</a>
                <ul class="submenu">
                    <li><a href="#created-projects" class="sidebar-link submenu-link">Created Projects</a></li>
                    <li><a href="#active-projects" class="sidebar-link submenu-link">Active Projects</a></li>
                    <li><a href="#favorite-projects" class="sidebar-link submenu-link">Favorite Projects</a></li>
                </ul>
            </li>
        </ul>
    </div>

    <!-- Right Content Area -->
    <div class="content-area">
        <div id="personal-info" class="content-section active">
            <h3>Personal Information</h3>
            <!-- Personal info content -->
        </div>
        
        <div id="skills" class="content-section">
            <h3>Skills</h3>
            <!-- Skills content -->
        </div>

        <div id="created-projects" class="content-section">
            <h3>Created Projects</h3>
            <div class="projects-grid">
                {% if user.projects %}
                    {% for project in user.projects %}
                        {% with is_creator=True %}
                            {% include 'project_card.html' %}
                        {% endwith %}
                    {% endfor %}
                {% else %}
                    <p>No projects created yet.</p>
                {% endif %}
            </div>
        </div>

        <div id="active-projects" class="content-section">
            <h3>Active Projects</h3>
            <p>Coming soon...</p>
        </div>

        <div id="favorite-projects" class="content-section">
            <h3>Favorite Projects</h3>
            <p>Coming soon...</p>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const sidebarLinks = document.querySelectorAll('.sidebar-link');
    const contentSections = document.querySelectorAll('.content-section');

    sidebarLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            
            // Remove active class from all links and sections
            sidebarLinks.forEach(l => l.classList.remove('active'));
            contentSections.forEach(s => s.classList.remove('active'));
            
            // Add active class to clicked link
            link.classList.add('active');
            
            // Show corresponding section
            const targetId = link.getAttribute('href').substring(1);
            document.getElementById(targetId).classList.add('active');
        });
    });
});
</script>
{% endblock %}